- pipeline: test_download
  name: Test Download
  refs:
  - refs/heads/main
  events:
  - type: PUSH
  fail_on_prepare_env_warning: true
  actions:
  - action: ls -la test_videos/
    type: BUILD
    docker_image_name: library/python
    docker_image_tag: 3.13
    execute_commands:
    - "# Install dependencies"
    - apt-get update
    - apt-get install -y ffmpeg
    - pip install -r requirements.txt
    - ""
    - "# Run test"
    - python test_download.py
    - ls -la test_videos/
    cached_dirs:
    - /root/.cache/pip
    shell: BASH
